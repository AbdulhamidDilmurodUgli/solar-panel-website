<anArtifact identifier="complete-admin-panel-single" type="text/html" title="Complete Admin Panel - Single File">
<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>í˜„ëŒ€ ì—ë„ˆì§€ - ê´€ë¦¬ì íŒ¨ë„</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css" rel="stylesheet">
  <style>
    :root {
      --primary-color: #004369;
      --secondary-color: #0056b3;
      --accent-color: #28a745;
      --danger-color: #dc3545;
      --warning-color: #ffc107;
    }
 body {
  font-family: 'Segoe UI', -apple-system, BlinkMacSystemFont, 'Roboto', sans-serif;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  min-height: 100vh;
  padding: 20px;
}

.login-container {
  max-width: 400px;
  margin: 100px auto;
}

.login-card {
  background: white;
  border-radius: 20px;
  padding: 40px;
  box-shadow: 0 10px 40px rgba(0,0,0,0.2);
}

.admin-container {
  max-width: 1400px;
  margin: 0 auto;
  display: none;
}

.admin-header {
  background: white;
  padding: 20px 30px;
  border-radius: 15px;
  margin-bottom: 30px;
  box-shadow: 0 4px 15px rgba(0,0,0,0.1);
  display: flex;
  justify-content: space-between;
  align-items: center;
  flex-wrap: wrap;
  gap: 15px;
}

.admin-content {
  background: white;
  padding: 30px;
  border-radius: 15px;
  box-shadow: 0 4px 15px rgba(0,0,0,0.1);
}

.portfolio-item {
  background: #f8f9fa;
  border: 2px solid #e9ecef;
  border-radius: 12px;
  padding: 20px;
  margin-bottom: 20px;
  transition: all 0.3s;
}

.portfolio-item:hover {
  border-color: var(--primary-color);
  box-shadow: 0 4px 15px rgba(0,67,105,0.2);
}

.portfolio-thumbnail {
  width: 150px;
  height: 100px;
  object-fit: cover;
  border-radius: 8px;
}

.btn-primary {
  background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
  border: none;
}

.btn-primary:hover {
  background: linear-gradient(135deg, #022b44, #003d82);
}

.modal-header {
  background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
  color: white;
}

.image-preview {
  max-width: 100%;
  max-height: 300px;
  border-radius: 8px;
  margin-top: 10px;
}

.stats-card {
  background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
  color: white;
  padding: 20px;
  border-radius: 12px;
  margin-bottom: 20px;
}

.stats-card h3 {
  font-size: 2.5rem;
  margin: 0;
}

.stats-card p {
  margin: 0;
  opacity: 0.9;
}

.tab-content {
  margin-top: 20px;
}

.nav-tabs .nav-link {
  color: var(--primary-color);
  font-weight: 600;
}

.nav-tabs .nav-link.active {
  background-color: var(--primary-color);
  color: white;
}

.action-buttons {
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
}

.export-section {
  background: #f8f9fa;
  padding: 20px;
  border-radius: 12px;
  margin-top: 20px;
}

@media (max-width: 768px) {
  .portfolio-thumbnail {
    width: 100%;
    height: auto;
    margin-bottom: 10px;
  }

  .admin-header {
    text-align: center;
  }

  .action-buttons {
    flex-direction: column;
    width: 100%;
  }

  .action-buttons button {
    width: 100%;
  }
}
    </style>
</head>
<body>
<!-- Login Section -->
<div id="loginSection" class="login-container">
  <div class="login-card">
    <div class="text-center mb-4">
      <h2 style="color: var(--primary-color);">ğŸŒ í˜„ëŒ€ ì—ë„ˆì§€</h2>
      <p class="text-muted">ê´€ë¦¬ì ë¡œê·¸ì¸</p>
    </div>
    <form id="loginForm">
      <div class="mb-3">
        <label class="form-label">ì‚¬ìš©ì ì´ë¦„</label>
        <input type="text" class="form-control" id="username" required>
      </div>
      <div class="mb-3">
        <label class="form-label">ë¹„ë°€ë²ˆí˜¸</label>
        <input type="password" class="form-control" id="password" required>
      </div>
      <button type="submit" class="btn btn-primary w-100">
        <i class="bi bi-box-arrow-in-right"></i> ë¡œê·¸ì¸
      </button>
    </form>
    <div id="loginError" class="alert alert-danger mt-3" style="display: none;">
      ì˜ëª»ëœ ì‚¬ìš©ì ì´ë¦„ ë˜ëŠ” ë¹„ë°€ë²ˆí˜¸ì…ë‹ˆë‹¤.
    </div>
    <div class="mt-3 text-center">
      <small class="text-muted">ê¸°ë³¸ ë¹„ë°€ë²ˆí˜¸: admin / hyundai2025</small>
    </div>
  </div>
</div>
<!-- Admin Dashboard -->
<div id="adminSection" class="admin-container">
  <!-- Header -->
  <div class="admin-header">
    <div>
      <h3 class="mb-0" style="color: var(--primary-color);">ğŸŒ í˜„ëŒ€ ì—ë„ˆì§€ ê´€ë¦¬ì íŒ¨ë„</h3>
      <small class="text-muted">ì›¹ì‚¬ì´íŠ¸ ì½˜í…ì¸  ê´€ë¦¬</small>
    </div>
    <div class="action-buttons">
      <button class="btn btn-outline-success" onclick="exportData()">
        <i class="bi bi-download"></i> ë°ì´í„° ë‚´ë³´ë‚´ê¸°
      </button>
      <button class="btn btn-outline-info" onclick="showImportModal()">
        <i class="bi bi-upload"></i> ë°ì´í„° ê°€ì ¸ì˜¤ê¸°
      </button>
      <button class="btn btn-outline-danger" onclick="logout()">
        <i class="bi bi-box-arrow-right"></i> ë¡œê·¸ì•„ì›ƒ
      </button>
    </div>
  </div>
  <!-- Stats Cards -->
  <div class="row">
    <div class="col-md-4">
      <div class="stats-card">
        <h3 id="totalProjects">0</h3>
        <p><i class="bi bi-folder"></i> ì´ í”„ë¡œì íŠ¸</p>
      </div>
    </div>
    <div class="col-md-4">
      <div class="stats-card" style="background: linear-gradient(135deg, #28a745, #20c997);">
        <h3 id="visibleProjects">0</h3>
        <p><i class="bi bi-eye"></i> í‘œì‹œëœ í”„ë¡œì íŠ¸</p>
      </div>
    </div>
    <div class="col-md-4">
      <div class="stats-card" style="background: linear-gradient(135deg, #ffc107, #ff9800);">
        <h3 id="hiddenProjects">0</h3>
        <p><i class="bi bi-eye-slash"></i> ìˆ¨ê¹€ í”„ë¡œì íŠ¸</p>
      </div>
    </div>
  </div>
  <!-- Main Content -->
  <div class="admin-content">
    <!-- Tabs -->
    <ul class="nav nav-tabs" role="tablist">
      <li class="nav-item">
        <a class="nav-link active" data-bs-toggle="tab" href="#portfolioTab">
          <i class="bi bi-images"></i> í¬íŠ¸í´ë¦¬ì˜¤ ê´€ë¦¬
        </a>
      </li>
      <li class="nav-item">
        <a class="nav-link" data-bs-toggle="tab" href="#settingsTab">
          <i class="bi bi-gear"></i> ì‚¬ì´íŠ¸ ì„¤ì •
        </a>
      </li>
      <li class="nav-item">
        <a class="nav-link" data-bs-toggle="tab" href="#helpTab">
          <i class="bi bi-question-circle"></i> ë„ì›€ë§
        </a>
      </li>
    </ul>
    <div class="tab-content">
  <!-- Portfolio Management Tab -->
  <div id="portfolioTab" class="tab-pane fade show active">
    <div class="d-flex justify-content-between align-items-center mb-4 flex-wrap gap-3">
      <h4>í¬íŠ¸í´ë¦¬ì˜¤ í”„ë¡œì íŠ¸</h4>
      <button class="btn btn-primary" onclick="openAddModal()">
        <i class="bi bi-plus-circle"></i> ìƒˆ í”„ë¡œì íŠ¸ ì¶”ê°€
      </button>
    </div>

    <div id="portfolioList">
      <!-- Portfolio items will be loaded here -->
    </div>
  </div>

  <!-- Settings Tab -->
  <div id="settingsTab" class="tab-pane fade">
    <h4 class="mb-4">ì‚¬ì´íŠ¸ ì„¤ì •</h4>
    
    <div class="mb-4">
      <h5>ì—°ë½ì²˜ ì •ë³´</h5>
      <div class="row g-3">
        <div class="col-md-6">
          <label class="form-label">ëŒ€í‘œë²ˆí˜¸</label>
          <input type="text" class="form-control" id="mainPhone" value="1688-7805">
        </div>
        <div class="col-md-6">
          <label class="form-label">íœ´ëŒ€í°</label>
          <input type="text" class="form-control" id="mobilePhone" value="010-8389-357">
        </div>
        <div class="col-md-6">
          <label class="form-label">íŒ©ìŠ¤</label>
          <input type="text" class="form-control" id="fax" value="02-6499-7805">
        </div>
        <div class="col-md-6">
          <label class="form-label">ì£¼ì†Œ</label>
          <input type="text" class="form-control" id="address" value="ê²½ê¸°ë„ ì–‘ì£¼ì‹œ ê´‘ì‚¬ë¡œ 131-127">
        </div>
      </div>
      <button class="btn btn-primary mt-3" onclick="saveSettings()">
        <i class="bi bi-save"></i> ì„¤ì • ì €ì¥
      </button>
    </div>

    <div class="export-section">
      <h5>ë°ì´í„° ê´€ë¦¬</h5>
      <p>ì›¹ì‚¬ì´íŠ¸ ë°ì´í„°ë¥¼ ë°±ì—…í•˜ê±°ë‚˜ ë‹¤ë¥¸ ë¸Œë¼ìš°ì €ë¡œ ì´ì „í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
      <div class="d-flex gap-2 flex-wrap">
        <button class="btn btn-outline-primary" onclick="exportData()">
          <i class="bi bi-download"></i> ì „ì²´ ë°ì´í„° ë‚´ë³´ë‚´ê¸°
        </button>
        <button class="btn btn-outline-secondary" onclick="showImportModal()">
          <i class="bi bi-upload"></i> ë°ì´í„° ê°€ì ¸ì˜¤ê¸°
        </button>
        <button class="btn btn-outline-danger" onclick="clearAllData()">
          <i class="bi bi-trash"></i> ëª¨ë“  ë°ì´í„° ì‚­ì œ
        </button>
      </div>
    </div>

    <div class="alert alert-info mt-3">
      <i class="bi bi-info-circle"></i> ì„¤ì •ì„ ë³€ê²½í•œ í›„ ì €ì¥ ë²„íŠ¼ì„ í´ë¦­í•˜ì„¸ìš”.
    </div>
  </div>

  <!-- Help Tab -->
  <div id="helpTab" class="tab-pane fade">
    <h4 class="mb-4">ì‚¬ìš© ê°€ì´ë“œ</h4>
    
    <div class="accordion" id="helpAccordion">
      <div class="accordion-item">
        <h2 class="accordion-header">
          <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#help1">
            í”„ë¡œì íŠ¸ë¥¼ ì¶”ê°€í•˜ëŠ” ë°©ë²•
          </button>
        </h2>
        <div id="help1" class="accordion-collapse collapse show" data-bs-parent="#helpAccordion">
          <div class="accordion-body">
            <ol>
              <li>"í¬íŠ¸í´ë¦¬ì˜¤ ê´€ë¦¬" íƒ­ìœ¼ë¡œ ì´ë™í•©ë‹ˆë‹¤</li>
              <li>"ìƒˆ í”„ë¡œì íŠ¸ ì¶”ê°€" ë²„íŠ¼ì„ í´ë¦­í•©ë‹ˆë‹¤</li>
              <li>í”„ë¡œì íŠ¸ ì •ë³´ë¥¼ ì…ë ¥í•©ë‹ˆë‹¤ (ì œëª©, ì„¤ëª…, ì¹´í…Œê³ ë¦¬, ì—°ë„)</li>
              <li>ì´ë¯¸ì§€ë¥¼ ì—…ë¡œë“œí•©ë‹ˆë‹¤ (ì„ íƒì‚¬í•­)</li>
              <li>"ì €ì¥" ë²„íŠ¼ì„ í´ë¦­í•©ë‹ˆë‹¤</li>
            </ol>
          </div>
        </div>
      </div>

      <div class="accordion-item">
        <h2 class="accordion-header">
          <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#help2">
            í”„ë¡œì íŠ¸ë¥¼ ìˆ˜ì •í•˜ê±°ë‚˜ ì‚­ì œí•˜ëŠ” ë°©ë²•
          </button>
        </h2>
        <div id="help2" class="accordion-collapse collapse" data-bs-parent="#helpAccordion">
          <div class="accordion-body">
            <p><strong>ìˆ˜ì •:</strong></p>
            <ol>
              <li>ìˆ˜ì •í•˜ë ¤ëŠ” í”„ë¡œì íŠ¸ì˜ "í¸ì§‘" ë²„íŠ¼ì„ í´ë¦­í•©ë‹ˆë‹¤</li>
              <li>ì •ë³´ë¥¼ ìˆ˜ì •í•©ë‹ˆë‹¤</li>
              <li>"ì €ì¥" ë²„íŠ¼ì„ í´ë¦­í•©ë‹ˆë‹¤</li>
            </ol>
            <p><strong>ì‚­ì œ:</strong></p>
            <ol>
              <li>ì‚­ì œí•˜ë ¤ëŠ” í”„ë¡œì íŠ¸ì˜ "ì‚­ì œ" ë²„íŠ¼ì„ í´ë¦­í•©ë‹ˆë‹¤</li>
              <li>í™•ì¸ ë©”ì‹œì§€ì—ì„œ "í™•ì¸"ì„ í´ë¦­í•©ë‹ˆë‹¤</li>
            </ol>
          </div>
        </div>
      </div>

      <div class="accordion-item">
        <h2 class="accordion-header">
          <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#help3">
            ë°ì´í„° ë°±ì—… ë°©ë²•
          </button>
        </h2>
        <div id="help3" class="accordion-collapse collapse" data-bs-parent="#helpAccordion">
          <div class="accordion-body">
            <ol>
              <li>"ì‚¬ì´íŠ¸ ì„¤ì •" íƒ­ìœ¼ë¡œ ì´ë™í•©ë‹ˆë‹¤</li>
              <li>"ì „ì²´ ë°ì´í„° ë‚´ë³´ë‚´ê¸°" ë²„íŠ¼ì„ í´ë¦­í•©ë‹ˆë‹¤</li>
              <li>JSON íŒŒì¼ì´ ë‹¤ìš´ë¡œë“œë©ë‹ˆë‹¤</li>
              <li>ì´ íŒŒì¼ì„ ì•ˆì „í•œ ê³³ì— ë³´ê´€í•˜ì„¸ìš”</li>
            </ol>
            <p class="text-muted mt-2">ë°±ì—…ëœ ë°ì´í„°ëŠ” "ë°ì´í„° ê°€ì ¸ì˜¤ê¸°" ê¸°ëŠ¥ìœ¼ë¡œ ë³µì›í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
          </div>
        </div>
      </div>

      <div class="accordion-item">
        <h2 class="accordion-header">
          <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#help4">
            ì´ë¯¸ì§€ ì—…ë¡œë“œ ê°€ì´ë“œ
          </button>
        </h2>
        <div id="help4" class="accordion-collapse collapse" data-bs-parent="#helpAccordion">
          <div class="accordion-body">
            <p><strong>ê¶Œì¥ ì´ë¯¸ì§€ ì‚¬ì–‘:</strong></p>
            <ul>
              <li>í˜•ì‹: JPG, PNG</li>
              <li>í¬ê¸°: 1920x1080 í”½ì…€ ì´í•˜</li>
              <li>ìš©ëŸ‰: 2MB ì´í•˜ ê¶Œì¥</li>
              <li>ë¹„ìœ¨: 16:9 ë˜ëŠ” 4:3</li>
            </ul>
            <p class="text-warning"><i class="bi bi-exclamation-triangle"></i> ì°¸ê³ : ì´ë¯¸ì§€ëŠ” ë¸Œë¼ìš°ì € ì €ì¥ì†Œì— ì €ì¥ë˜ë¯€ë¡œ ë„ˆë¬´ í° ì´ë¯¸ì§€ëŠ” í”¼í•´ì£¼ì„¸ìš”.</p>
          </div>
        </div>
      </div>

      <div class="accordion-item">
        <h2 class="accordion-header">
          <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#help5">
            ë¬¸ì œ í•´ê²°
          </button>
        </h2>
        <div id="help5" class="accordion-collapse collapse" data-bs-parent="#helpAccordion">
          <div class="accordion-body">
            <p><strong>ë°ì´í„°ê°€ ì‚¬ë¼ì¡Œì–´ìš”:</strong></p>
            <p>ë¸Œë¼ìš°ì € ìºì‹œë¥¼ ì§€ìš°ë©´ ë°ì´í„°ê°€ ì‚­ì œë  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì •ê¸°ì ìœ¼ë¡œ ë°ì´í„°ë¥¼ ë°±ì—…í•˜ì„¸ìš”.</p>
            
            <p><strong>ì´ë¯¸ì§€ê°€ í‘œì‹œë˜ì§€ ì•Šì•„ìš”:</strong></p>
            <p>ì´ë¯¸ì§€ íŒŒì¼ì´ ë„ˆë¬´ í¬ê±°ë‚˜ í˜•ì‹ì´ ì§€ì›ë˜ì§€ ì•Šì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. JPG ë˜ëŠ” PNG í˜•ì‹ìœ¼ë¡œ ì‹œë„í•´ë³´ì„¸ìš”.</p>
            
            <p><strong>ë¡œê·¸ì¸ì´ ì•ˆ ë¼ìš”:</strong></p>
            <p>ê¸°ë³¸ ì‚¬ìš©ìëª…ì€ "admin"ì´ê³  ë¹„ë°€ë²ˆí˜¸ëŠ” "hyundai2025"ì…ë‹ˆë‹¤.</p>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
</div>
</div>
<!-- Add/Edit Project Modal -->
<div class="modal fade" id="projectModal" tabindex="-1">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="modalTitle">ìƒˆ í”„ë¡œì íŠ¸ ì¶”ê°€</h5>
        <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
      </div>
      <div class="modal-body">
        <form id="projectForm">
          <input type="hidden" id="projectId">
          <div class="mb-3">
        <label class="form-label">í”„ë¡œì íŠ¸ ì œëª© *</label>
        <input type="text" class="form-control" id="projectTitle" required placeholder="ì˜ˆ: ì£¼íƒìš© íƒœì–‘ê´‘ ì„¤ì¹˜">
      </div>

      <div class="mb-3">
        <label class="form-label">ì„¤ëª… *</label>
        <textarea class="form-control" id="projectDescription" rows="3" required placeholder="ì˜ˆ: ì•ˆì‚° ì£¼íƒ ì˜¥ìƒ íƒœì–‘ê´‘ ì‹œìŠ¤í…œ êµ¬ì¶• (2024)"></textarea>
      </div>

      <div class="mb-3">
        <label class="form-label">ì´ë¯¸ì§€</label>
        <input type="file" class="form-control" id="projectImage" accept="image/*" onchange="previewImage(this)">
        <small class="text-muted">ê¶Œì¥: JPG/PNG, 1920x1080px ì´í•˜, 2MB ì´í•˜</small>
        <img id="imagePreview" class="image-preview" style="display: none;">
        <input type="hidden" id="existingImage">
      </div>

      <div class="row">
        <div class="col-md-6 mb-3">
          <label class="form-label">ì¹´í…Œê³ ë¦¬ *</label>
          <select class="form-select" id="projectCategory" required>
            <option value="residential">ì£¼íƒìš© ì„¤ì¹˜</option>
            <option value="commercial">ìƒì—…ìš© ì„¤ì¹˜</option>
            <option value="maintenance">ìœ ì§€ë³´ìˆ˜</option>
            <option value="industrial">ì‚°ì—…ìš© í”„ë¡œì íŠ¸</option>
            <option value="public">ê³µê³µê¸°ê´€ í”„ë¡œì íŠ¸</option>
            <option value="education">êµìœ¡ê¸°ê´€ í”„ë¡œì íŠ¸</option>
          </select>
        </div>

        <div class="col-md-6 mb-3">
          <label class="form-label">ì—°ë„ *</label>
          <input type="number" class="form-control" id="projectYear" min="2020" max="2030" value="2025" required>
        </div>
      </div>

      <div class="form-check mb-3">
        <input class="form-check-input" type="checkbox" id="projectVisible" checked>
        <label class="form-check-label" for="projectVisible">
          ì›¹ì‚¬ì´íŠ¸ì— í‘œì‹œ
        </label>
      </div>
    </form>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">ì·¨ì†Œ</button>
    <button type="button" class="btn btn-primary" onclick="saveProject()">
      <i class="bi bi-save"></i> ì €ì¥
    </button>
  </div>
</div>
</div>
</div>
<!-- Import Data Modal -->
<div class="modal fade" id="importModal" tabindex="-1">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">ë°ì´í„° ê°€ì ¸ì˜¤ê¸°</h5>
        <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
      </div>
      <div class="modal-body">
        <p>ì´ì „ì— ë‚´ë³´ë‚¸ JSON íŒŒì¼ì„ ì„ íƒí•˜ì„¸ìš”.</p>
        <input type="file" class="form-control" id="importFile" accept=".json">
        <div class="alert alert-warning mt-3">
          <i class="bi bi-exclamation-triangle"></i> ê²½ê³ : ê¸°ì¡´ ë°ì´í„°ê°€ ëª¨ë‘ ëŒ€ì²´ë©ë‹ˆë‹¤!
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">ì·¨ì†Œ</button>
        <button type="button" class="btn btn-primary" onclick="importData()">
          <i class="bi bi-upload"></i> ê°€ì ¸ì˜¤ê¸°
        </button>
      </div>
    </div>
  </div>
</div>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script>
  // Storage key for localStorage
  const STORAGE_KEY = 'hyundai_energy_data';
  const ADMIN_CREDENTIALS = {
    username: 'admin',
    password: 'hyundai2025' // IMPORTANT: Change this password!
  };

  // Initialize data structure
  let siteData = {
    projects: [],
    settings: {
      mainPhone: '1688-7805',
      mobilePhone: '010-8389-357',
      fax: '02-6499-7805',
      address: 'ê²½ê¸°ë„ ì–‘ì£¼ì‹œ ê´‘ì‚¬ë¡œ 131-127'
    }
  };

  // Load data from localStorage
  function loadData() {
    const stored = localStorage.getItem(STORAGE_KEY);
    if (stored) {
      siteData = JSON.parse(stored);
    } else {
      // Initialize with sample data
      siteData.projects = [
        {
          id: 1,
          title: 'ì£¼íƒìš© ì„¤ì¹˜',
          description: 'ì•ˆì‚° ì£¼íƒ ì˜¥ìƒ íƒœì–‘ê´‘ ì‹œìŠ¤í…œ êµ¬ì¶• (2024)',
          image: './images/IMG_4242.JPG',
          category: 'residential',
          year: 2024,
          visible: true
        },
        {
          id: 2,
          title: 'ìƒì—…ìš© ì„¤ì¹˜',
          description: 'ì¸ì²œ ê³µì¥ ì§€ë¶• ëŒ€ê·œëª¨ íƒœì–‘ê´‘ ì„¤ì¹˜ (2024)',
          image: './images/IMG_4248.JPG',
          category: 'commercial',
          year: 2024,
          visible: true
        },
        {
          id: 3,
          title: 'ìœ ì§€ë³´ìˆ˜',
          description: 'ìˆ˜ì› íƒœì–‘ê´‘ ì‹œìŠ¤í…œ ì ê²€ ë° ì„±ëŠ¥ ìµœì í™” (2025)',
          image: './images/IMG_4262.JPG',
          category: 'maintenance',
          year: 2025,
          visible: true
        }
      ];
      saveData();
    }
  }

  // Save data to localStorage
  function saveData() {
    localStorage.setItem(STORAGE_KEY, JSON.stringify(siteData));
    updateStats();
  }

  // Login functionality
  document.getElementById('loginForm').addEventListener('submit', function(e) {
    e.preventDefault();
    const username = document.getElementById('username').value;
    const password = document.getElementById('password').value;

    if (username === ADMIN_CREDENTIALS.username && password === ADMIN_CREDENTIALS.password) {
      document.getElementById('loginSection').style.display = 'none';
      document.getElementById('adminSection').style.display = 'block';
      loadData();
      renderPortfolio();
      loadSettings();
    } else {
      document.getElementById('loginError').style.display = 'block';
    }
  });

  // Logout
  function logout() {
    if (confirm('ë¡œê·¸ì•„ì›ƒ í•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
      document.getElementById('loginSection').style.display = 'block';
      document.getElementById('adminSection').style.display = 'none';
      document.getElementById('username').value = '';
      document.getElementById('password').value = '';
      document.getElementById('loginError').style.display = 'none';
    }
  }

  // Update statistics
  function updateStats() {
    const total = siteData.projects.length;
    const visible = siteData.projects.filter(p => p.visible).length;
    const hidden = total - visible;

    document.getElementById('totalProjects').textContent = total;
    document.getElementById('visibleProjects').textContent = visible;
    document.getElementById('hiddenProjects').textContent = hidden;
  }

  // Render portfolio list
  function renderPortfolio() {
    const container = document.getElementById('portfolioList');
    container.innerHTML = '';

    if (siteData.projects.length === 0) {
      container.innerHTML = '<div class="alert alert-info"><i class="bi bi-info-circle"></i> í”„ë¡œì íŠ¸ê°€ ì—†ìŠµë‹ˆë‹¤. ìƒˆ í”„ë¡œì íŠ¸ë¥¼ ì¶”ê°€í•˜ì„¸ìš”.</div>';
      return;
    }

    siteData.projects.forEach(project => {
      const item = document.createElement('div');
      item.className = 'portfolio-item';
      item.innerHTML = `
        <div class="row align-items-center">
          <div class="col-md-2 mb-3 mb-md-0">
            <img src="${project.image}" class="portfolio-thumbnail w-100" alt="${project.title}" onerror="this.src='data:image/svg+xml,%3Csvg xmlns=%22http://www.w3.org/2000/svg%22 width=%22150%22 height=%22100%22%3E%3Crect fill=%22%23ddd%22 width=%22150%22 height=%22100%22/%3E%3Ctext fill=%22%23999%22 x=%2250%25%22 y=%2250%25%22 text-anchor=%22middle%22 dy=%22.3em%22%3Eì´ë¯¸ì§€ ì—†ìŒ%3C/text%3E%3C/svg%3E'">
          </div>
          <div class="col-md-6 mb-3 mb-md-0">
            <h5 class="mb-1">${project.title}</h5>
            <p class="text-muted mb-2">${project.description}</p>
            <div>
              <span class="badge bg-secondary">${getCategoryName(project.category)}</span>
              <span class="badge bg-info">${project.year}</span>
              ${project.visible ? '<span class="badge bg-success">í‘œì‹œë¨</span>' : '<span class="badge bg-warning text-dark">ìˆ¨ê¹€</span>'}
            </div>
          </div>
          <div class="col-md-4 text-md-end">
            <button class="btn btn-sm btn-outline-primary me-2 mb-2" onclick="editProject(${project.id})">
              <i class="bi bi-pencil"></i> í¸ì§‘
            </button>
            <button class="btn btn-sm btn-outline-danger mb-2" onclick="deleteProject(${project.id})">
              <i class="bi bi-trash"></i> ì‚­ì œ
            </button>
          </div>
        </div>
      `;
      container.appendChild(item);
    });
  }

  // Get category name in Korean
  function getCategoryName(category) {
    const categories = {
      residential: 'ì£¼íƒìš©',
      commercial: 'ìƒì—…ìš©',
      maintenance: 'ìœ ì§€ë³´ìˆ˜',
      industrial: 'ì‚°ì—…ìš©',
      public: 'ê³µê³µê¸°ê´€',
      education: 'êµìœ¡ê¸°ê´€'
    };
    return categories[category] || category;
  }

  // Open add modal
  function openAddModal() {
    document.getElementById('modalTitle').
      textContent = 'ìƒˆ í”„ë¡œì íŠ¸ ì¶”ê°€';
document.getElementById('projectForm').reset();
document.getElementById('projectId').value = '';
document.getElementById('existingImage').value = '';
document.getElementById('imagePreview').style.display = 'none';
document.getElementById('projectVisible').checked = true;
document.getElementById('projectYear').value = new Date().getFullYear();
new bootstrap.Modal(document.getElementById('projectModal')).show();
}
// Edit project
function editProject(id) {
const project = siteData.projects.find(p => p.id === id);
if (!project) return;
  document.getElementById('modalTitle').textContent = 'í”„ë¡œì íŠ¸ í¸ì§‘';
document.getElementById('projectId').value = project.id;
document.getElementById('projectTitle').value = project.title;
document.getElementById('projectDescription').value = project.description;
document.getElementById('projectCategory').value = project.category;
document.getElementById('projectYear').value = project.year;
document.getElementById('projectVisible').checked = project.visible;
document.getElementById('existingImage').value = project.image;

if (project.image) {
  document.getElementById('imagePreview').src = project.image;
  document.getElementById('imagePreview').style.display = 'block';
}

new bootstrap.Modal(document.getElementById('projectModal')).show();
  // Preview image
function previewImage(input) {
if (input.files && input.files[0]) {
const file = input.files[0];
// Check file size (max 5MB)
  if (file.size > 5 * 1024 * 1024) {
    alert('ì´ë¯¸ì§€ íŒŒì¼ì´ ë„ˆë¬´ í½ë‹ˆë‹¤. 5MB ì´í•˜ì˜ íŒŒì¼ì„ ì„ íƒí•˜ì„¸ìš”.');
    input.value = '';
    return;
  }

  const reader = new FileReader();
  reader.onload = function(e) {
    document.getElementById('imagePreview').src = e.target.result;
    document.getElementById('imagePreview').style.display = 'block';
  };
  reader.readAsDataURL(file);
}
  // Save project
function saveProject() {
const id = document.getElementById('projectId').value;
const title = document.getElementById('projectTitle').value;
const description = document.getElementById('projectDescription').value;
const category = document.getElementById('projectCategory').value;
const year = document.getElementById('projectYear').value;
const visible = document.getElementById('projectVisible').checked;
const imageFile = document.getElementById('projectImage').files[0];
const existingImage = document.getElementById('existingImage').value;if (!title || !description) {
  alert('ì œëª©ê³¼ ì„¤ëª…ì„ ì…ë ¥í•˜ì„¸ìš”.');
  return;
}

const project = {
  title,
  description,
  category,
  year: parseInt(year),
  visible
};

// Handle image
if (imageFile) {
  const reader = new FileReader();
  reader.onload = function(e) {
    project.image = e.target.result;
    finalizeProjectSave(id, project);
  };
  reader.readAsDataURL(imageFile);
} else {
  project.image = existingImage || 'data:image/svg+xml,%3Csvg xmlns=%22http://www.w3.org/2000/svg%22 width=%22150%22 height=%22100%22%3E%3Crect fill=%22%23ddd%22 width=%22150%22 height=%22100%22/%3E%3Ctext fill=%22%23999%22 x=%2250%25%22 y=%2250%25%22 text-anchor=%22middle%22 dy=%22.3em%22%3Eì´ë¯¸ì§€ ì—†ìŒ%3C/text%3E%3C/svg%3E';
  finalizeProjectSave(id, project);
}
  function finalizeProjectSave(id, project) {
if (id) {
// Edit existing
const index = siteData.projects.findIndex(p => p.id === parseInt(id));
if (index !== -1) {
project.id = parseInt(id);
siteData.projects[index] = project;
}
} else {
// Add new
project.id = Date.now();
siteData.projects.push(project);
}saveData();
renderPortfolio();
bootstrap.Modal.getInstance(document.getElementById('projectModal')).hide();

// Show success message
showNotification('í”„ë¡œì íŠ¸ê°€ ì„±ê³µì ìœ¼ë¡œ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤!', 'success');
    // Delete project
function deleteProject(id) {
if (!confirm('ì´ í”„ë¡œì íŠ¸ë¥¼ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?\nì´ ì‘ì—…ì€ ë˜ëŒë¦´ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.')) return;

    siteData.projects = siteData.projects.filter(p => p.id !== id);
saveData();
renderPortfolio();
showNotification('í”„ë¡œì íŠ¸ê°€ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤.', 'info');
  // Load settings
function loadSettings() {
document.getElementById('mainPhone').value = siteData.settings.mainPhone;
document.getElementById('mobilePhone').value = siteData.settings.mobilePhone;
document.getElementById('fax').value = siteData.settings.fax;
document.getElementById('address').value = siteData.settings.address;
}
// Save settings
function saveSettings() {
siteData.settings = {
mainPhone: document.getElementById('mainPhone').value,
mobilePhone: document.getElementById('mobilePhone').value,
fax: document.getElementById('fax').value,
address: document.getElementById('address').value
};
saveData();
showNotification('ì„¤ì •ì´ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤!', 'success');
}
// Export data as JSON
function exportData() {
const dataStr = JSON.stringify(siteData, null, 2);
const dataUri = 'data:application/json;charset=utf-8,'+ encodeURIComponent(dataStr);
const exportFileDefaultName = hyundai-energy-backup-${new Date().toISOString().split('T')[0]}.json;const linkElement = document.createElement('a');
linkElement.setAttribute('href', dataUri);
linkElement.setAttribute('download', exportFileDefaultName);
linkElement.click();

showNotification('ë°ì´í„°ê°€ ì„±ê³µì ìœ¼ë¡œ ë‚´ë³´ë‚´ì¡ŒìŠµë‹ˆë‹¤!', 'success');// Show import modal
function showImportModal() {
new bootstrap.Modal(document.getElementById('importModal')).show();
}
// Import data from JSON
function importData() {
const fileInput = document.getElementById('importFile');
const file = fileInput.files[0];if (!file) {
  alert('íŒŒì¼ì„ ì„ íƒí•˜ì„¸ìš”.');
  return;
}

const reader = new FileReader();
reader.onload = function(e) {
  try {
    const importedData = JSON.parse(e.target.result);
    
    // Validate data structure
    if (!importedData.projects || !importedData.settings) {
      throw new Error('ì˜ëª»ëœ ë°ì´í„° í˜•ì‹ì…ë‹ˆë‹¤.');
    }

    siteData = importedData;
    saveData();
    renderPortfolio();
    loadSettings();
    
    bootstrap.Modal.getInstance(document.getElementById('importModal')).hide();
    showNotification('ë°ì´í„°ê°€ ì„±ê³µì ìœ¼ë¡œ ê°€ì ¸ì™€ì¡ŒìŠµë‹ˆë‹¤!', 'success');
  } catch (error) {
    alert('ë°ì´í„° ê°€ì ¸ì˜¤ê¸° ì‹¤íŒ¨: ' + error.message);
  }
};
reader.readAsText(file);// Clear all data
function clearAllData() {
if (!confirm('ëª¨ë“  ë°ì´í„°ë¥¼ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?\nì´ ì‘ì—…ì€ ë˜ëŒë¦´ ìˆ˜ ì—†ìŠµë‹ˆë‹¤!\n\nê³„ì†í•˜ë ¤ë©´ "í™•ì¸"ì„ í´ë¦­í•˜ì„¸ìš”.')) {
return;
}if (!confirm('ì •ë§ë¡œ ëª¨ë“  í”„ë¡œì íŠ¸ì™€ ì„¤ì •ì„ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?\në§ˆì§€ë§‰ í™•ì¸ì…ë‹ˆë‹¤.')) {
  return;
}

localStorage.removeItem(STORAGE_KEY);
siteData = {
  projects: [],
  settings: {
    mainPhone: '1688-7805',
    mobilePhone: '010-8389-357',
    fax: '02-6499-7805',
    address: 'ê²½ê¸°ë„ ì–‘ì£¼ì‹œ ê´‘ì‚¬ë¡œ 131-127'
  }
};
saveData();
renderPortfolio();
loadSettings();
showNotification('ëª¨ë“  ë°ì´í„°ê°€ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤.', 'warning');// Show notification
function showNotification(message, type = 'info') {
const alertDiv = document.createElement('div');
alertDiv.className = alert alert-${type} alert-dismissible fade show position-fixed top-0 start-50 translate-middle-x mt-3;
alertDiv.style.zIndex = '9999';
alertDiv.style.minWidth = '300px';
alertDiv.innerHTML =       ${message}       <button type="button" class="btn-close" data-bs-dismiss="alert"></button>    ;
document.body.appendChild(alertDiv);

setTimeout(() => {
  alertDiv.remove();
}, 3000);
}// Generate website code
function generateWebsiteCode() {
let portfolioHTML = '';
const visibleProjects = siteData.projects.filter(p => p.visible);
visibleProjects.forEach((project, index) => {
  portfolioHTML += `
<div class="col-md-4 portfolio-card">
  <div class="portfolio-image-container">
    <img src="${project.image}" alt="${project.title}" loading="lazy">
    <div class="portfolio-overlay">
      <i class="bi bi-eye"></i>
    </div>
  </div>
  <div class="portfolio-info">
    <h5>${project.title}</h5>
    <p>${project.description}</p>
  </div>
</div>`;
  
  // Add to "more projects" section after 3 items
  if (index === 2) {
    portfolioHTML += `
  </div>
  <div id="moreProjects" class="collapse-container mt-4">
    <div class="row g-4">`;
      }
    });
if (visibleProjects.length > 3) {
  portfolioHTML += `
</div>
</div>
  <div class="text-center mt-5">
    <button id="togglePortfolio" class="btn btn-custom">
      <span id="toggleIcon">â–¼</span> ë” ë§ì€ í”„ë¡œì íŠ¸ ë³´ê¸°
    </button>
  </div>`;
    } else {
      portfolioHTML += `
  </div>`;
    }
console.log('Generated Portfolio HTML:', portfolioHTML);
return portfolioHTML;
}
// Initialize on page load
document.addEventListener('DOMContentLoaded', function() {
// Check if already logged in (for development)
const urlParams = new URLSearchParams(window.location.search);
if (urlParams.get('dev') === 'true') {
document.getElementById('username').value = 'admin';
document.getElementById('password').value = 'hyundai2025';
}
});
</script>
</body>
</html>
</anArtifact>
